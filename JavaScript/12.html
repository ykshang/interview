<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模块化开发（AMD、ES6、CommonJS） | 常见面试题</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/x-icon" href="/MyInterviewDocs/logo.png">
    <meta name="description" content="记录学习成长">
    
    <link rel="preload" href="/MyInterviewDocs/assets/css/0.styles.c007d09d.css" as="style"><link rel="preload" href="/MyInterviewDocs/assets/js/app.b586fb6d.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/2.971b6136.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/1.91fe0a74.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/35.a7831241.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/4.81764381.js" as="script"><link rel="prefetch" href="/MyInterviewDocs/assets/js/10.b9ccdd73.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/100.159ad1a0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/101.591a4e0d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/102.82289573.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/103.00bee53c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/104.a638fdcf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/105.7e62af0e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/106.dc71fe90.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/107.b9ee65ee.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/108.968bdf78.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/109.22a63cbb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/11.2875cf05.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/110.46969aa6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/111.4e617fc2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/112.72ecdbb9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/113.b7c6cd13.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/114.c7a69ae1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/115.d815f2c6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/116.23bb0bb0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/117.218e66fb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/118.55e75b93.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/12.3cbf0b23.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/13.13669d9c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/14.23e3bb1c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/15.83188c2c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/16.47c553b8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/17.95419d56.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/18.96e3a434.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/19.8b92dd00.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/20.20a66a0c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/21.0fdf3d6a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/22.31ff6ba9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/23.f59434a7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/24.0995facc.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/25.6cc74990.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/26.2b876f87.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/27.5acbb55c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/28.495d906c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/29.7861db40.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/3.459104f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/30.1d7d3652.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/31.03ab5ec6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/32.c58db70b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/33.81f45062.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/34.95a21a11.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/36.45c99a1e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/37.93b2d83e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/38.d7505d59.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/39.753998f0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/40.ed5c1988.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/41.d20736bd.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/42.9901972e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/43.113e0ee4.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/44.d18f7045.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/45.34b36cc1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/46.0577a66e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/47.e4487e1a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/48.17995b47.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/49.0ea841be.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/5.d4e90b3d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/50.bd8df305.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/51.500dca19.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/52.b98b2fcd.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/53.f9ab736d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/54.286d2c90.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/55.e1f6a42b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/56.d6294076.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/57.3ad96ab5.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/58.01a239ec.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/59.58ef36a7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/6.8c845dff.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/60.d3eea318.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/61.0fdaae85.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/62.4f931d4a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/63.e7bb962d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/64.829ba2ee.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/65.175a8870.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/66.a9a52e3f.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/67.f530fb6a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/68.049e1264.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/69.621917c1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/7.a7dbc989.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/70.484692c6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/71.b61f5708.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/72.4d6479f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/73.dd4580bf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/74.281dc8b5.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/75.82345074.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/76.6f7dc73b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/77.b359de99.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/78.8c5c30bb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/79.41a387f8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/80.af4ff111.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/81.01441f46.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/82.b813aa02.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/83.cf526e77.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/84.261aec10.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/85.795c0859.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/86.c553a1f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/87.08f3d12d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/88.f2ad7287.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/89.42afefd8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/90.868768d2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/91.12de0f09.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/92.4491d2ac.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/93.ed8d40cb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/94.9c37ffe2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/95.808830fa.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/96.ae667781.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/97.987f1ac7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/98.7164fddf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/99.2d94d1f1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/vendors~docsearch.8130a697.js">
    <link rel="stylesheet" href="/MyInterviewDocs/assets/css/0.styles.c007d09d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MyInterviewDocs/" class="home-link router-link-active"><img src="/MyInterviewDocs/assets/img/logo.gif" alt="常见面试题" class="logo"> <span class="site-name can-hide">常见面试题</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MyInterviewDocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/browser/index.html" class="nav-link">
  1. 网页基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/JavaScript/index.html" class="nav-link">
  2. JS基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/vue/index.html" class="nav-link">
  3. Vue相关
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/network/index.html" class="nav-link">
  4. 网络相关
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MyInterviewDocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/browser/index.html" class="nav-link">
  1. 网页基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/JavaScript/index.html" class="nav-link">
  2. JS基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/vue/index.html" class="nav-link">
  3. Vue相关
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/network/index.html" class="nav-link">
  4. 网络相关
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/MyInterviewDocs/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/browser/" class="sidebar-heading clickable"><span>网页基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/JavaScript/" class="sidebar-heading clickable router-link-active open"><span>JS基础</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/MyInterviewDocs/JavaScript/1.html" class="sidebar-link">1、深拷贝和浅拷贝</a></li><li><a href="/MyInterviewDocs/JavaScript/2.html" class="sidebar-link">2、内存泄漏 *</a></li><li><a href="/MyInterviewDocs/JavaScript/3.html" class="sidebar-link">3、箭头函数和普通函数的区别</a></li><li><a href="/MyInterviewDocs/JavaScript/5.html" class="sidebar-link">5、typeof和instanceof的区别</a></li><li><a href="/MyInterviewDocs/JavaScript/6.html" class="sidebar-link">6、数据类型的隐式转换</a></li><li><a href="/MyInterviewDocs/JavaScript/7.html" class="sidebar-link">7、闭包</a></li><li><a href="/MyInterviewDocs/JavaScript/8.html" class="sidebar-link">8、作用域与作用域链</a></li><li><a href="/MyInterviewDocs/JavaScript/9.html" class="sidebar-link">9、事件循环（宏任务、微任务）</a></li><li><a href="/MyInterviewDocs/JavaScript/10.html" class="sidebar-link">10、原型链</a></li><li><a href="/MyInterviewDocs/JavaScript/11.html" class="sidebar-link">11、对象的继承</a></li><li><a href="/MyInterviewDocs/JavaScript/12.html" aria-current="page" class="active sidebar-link">12、模块化开发（AMD、ES6、CommonJS）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MyInterviewDocs/JavaScript/12.html#_1-命名空间模式-namespace" class="sidebar-link">1. 命名空间模式（namespace）</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/JavaScript/12.html#_2-amd-asynchronous-module-definition" class="sidebar-link">2. AMD（Asynchronous Module Definition）</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/JavaScript/12.html#_3-commonjs-单例模式-缓存机制-同步加载" class="sidebar-link">3. CommonJS</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/JavaScript/12.html#_4-es6-模块化" class="sidebar-link">4. ES6 模块化</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/JavaScript/12.html#_5-es6和commonjs的区别" class="sidebar-link">5. ES6和CommonJS的区别</a></li></ul></li><li><a href="/MyInterviewDocs/JavaScript/13.html" class="sidebar-link">13、IEFI 立即执行函数</a></li><li><a href="/MyInterviewDocs/JavaScript/14.html" class="sidebar-link">14、事件绑定、冒泡、捕获、委托</a></li><li><a href="/MyInterviewDocs/JavaScript/15.html" class="sidebar-link">15、防抖和节流</a></li><li><a href="/MyInterviewDocs/JavaScript/16.html" class="sidebar-link">16、判断对象相等</a></li><li><a href="/MyInterviewDocs/JavaScript/17.html" class="sidebar-link">17、对象的遍历</a></li><li><a href="/MyInterviewDocs/JavaScript/18.html" class="sidebar-link">18、JS异步编程</a></li><li><a href="/MyInterviewDocs/JavaScript/19.html" class="sidebar-link">19、对象的创建</a></li><li><a href="/MyInterviewDocs/JavaScript/20.html" class="sidebar-link">20、this的指向</a></li><li><a href="/MyInterviewDocs/JavaScript/21.html" class="sidebar-link">21、严格模式</a></li><li><a href="/MyInterviewDocs/JavaScript/22.html" class="sidebar-link">22、判断对象的类型</a></li><li><a href="/MyInterviewDocs/JavaScript/23.html" class="sidebar-link">23、JS自定义事件</a></li><li><a href="/MyInterviewDocs/JavaScript/24.html" class="sidebar-link">24、定时器setTimeout()、setInterval()、requestAnimationFrame()</a></li><li><a href="/MyInterviewDocs/JavaScript/25.html" class="sidebar-link">25、JS 脚本的阻塞特性</a></li><li><a href="/MyInterviewDocs/JavaScript/26.html" class="sidebar-link">26、解构赋值</a></li><li><a href="/MyInterviewDocs/JavaScript/27.html" class="sidebar-link">27、Call、Apply、Bind 的区别</a></li><li><a href="/MyInterviewDocs/JavaScript/28.html" class="sidebar-link">28、值域 this 指向</a></li><li><a href="/MyInterviewDocs/JavaScript/29.html" class="sidebar-link">29、数组去重</a></li><li><a href="/MyInterviewDocs/JavaScript/30.html" class="sidebar-link">30、Generator 函数 *</a></li><li><a href="/MyInterviewDocs/JavaScript/32.html" class="sidebar-link">32、什么是并发和并行？JavaScript 中如何实现并发操作？</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/vue/" class="sidebar-heading clickable"><span>Vue相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/Algorithm/" class="sidebar-heading clickable"><span>算法</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/network/" class="sidebar-heading clickable"><span>网络相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/nodejs/" class="sidebar-heading clickable"><span>Node.js</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="模块化开发-amd、es6、commonjs"><a href="#模块化开发-amd、es6、commonjs" class="header-anchor">#</a> 模块化开发（AMD、ES6、CommonJS）</h1> <p>模块化编程是一种编程范式，它将复杂的应用程序划分为更小的、独立的、可重复使用的代码块，这些代码块被称为模块。
每个模块都拥有其自身的功能和数据，它们通过定义清晰的接口与其他模块进行交互。<br>
这种方法有助于代码的组织，提高了代码的复用性和可维护性，同时使得团队协作开发时可以更加清晰地分配任务。</p> <p><strong>优势</strong></p> <ol><li><strong>可维护性</strong> : 由于代码被分割成小块，修改一个模块时，不太可能影响到其他模块，这使得问题定位和代码修改更加简单。</li> <li>复用性 : 模块可以独立于其他代码进行测试和重用，这减少了开发成本。</li> <li><strong>解耦</strong> : 模块之间的依赖关系被清晰地定义，减少了全局变量的使用，从而降低了代码之间的耦合度。</li> <li><strong>清晰的结构</strong> : 模块化有利于形成清晰的项目结构，使得新加入项目的成员能够更快地理解和上手。</li> <li>测试 : 由于模块是独立的，可以更容易地进行单元测试，提高代码质量。</li></ol> <p><strong>在 JavaScript 中，有几种常见的方式可以实现模块化开发：</strong></p> <h2 id="_1-命名空间模式-namespace"><a href="#_1-命名空间模式-namespace" class="header-anchor">#</a> 1. 命名空间模式（namespace）</h2> <p>通过创建一个某个值域下的<strong>对象</strong>或**函数（闭包）**作为命名空间，将相关的变量和函数放置在该对象下。这种方式可以有效避免命名冲突，但需要手动管理命名空间，容易造成代码的冗余和不易维护。</p> <h2 id="_2-amd-asynchronous-module-definition"><a href="#_2-amd-asynchronous-module-definition" class="header-anchor">#</a> 2. AMD（Asynchronous Module Definition）</h2> <p>是一种异步模块定义的规范，主要用于在浏览器中异步加载模块。使用 AMD 规范的库和工具有 <strong>RequireJS</strong>。它允许定义模块，并通过异步加载依赖模块，以实现模块化的开发和加载。</p> <p><strong>缺点是代码嵌套层级加深、繁琐不好维护，不如 CommonJS 和 ES6 好用</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// define.js</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;dependency1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dependency2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">dep1<span class="token punctuation">,</span> dep2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 模块逻辑，可以使用dep1和dep2</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">doSomething</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 使用依赖项进行操作</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// main.js</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;define&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">definedModule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用define模块</span>
  definedModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_3-commonjs-单例模式-缓存机制-同步加载"><a href="#_3-commonjs-单例模式-缓存机制-同步加载" class="header-anchor">#</a> 3. CommonJS <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>单例模式</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>缓存机制</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>同步加载</span></h2> <p>是一种同步的模块加载规范，主要用于 Node.js 环境。使用 CommonJS 的模块可以直接导入和导出模块，以供其他模块使用。使用 module.exports 和 exports 导出，使用 require()导入。</p> <p>通常依赖 node.js 环境，<code>browserify</code> 插件主要用来将 Common.js 转化为浏览器可以识别的语法</p> <h3 id="导出语法-module-exports-和-exports"><a href="#导出语法-module-exports-和-exports" class="header-anchor">#</a> 导出语法 module.exports 和 exports</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><strong>一个文件一半就默认是一个模块，一个模块里只能有一个module.exports，但是exports可以有多个</strong></p> <p>语法1 ：<code>module.exports = 变量名</code> 【只适用于导出一个变量】</p> <p>语法2 ：<code>module.exports = {key:value,key:value,xxx}</code> 【通用】</p> <p>语法2可以简写成 <code>module.exports = {value,value,xxx}</code> 【直接把变量放进来】</p></div> <h4 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 声明一个变量</span>
<span class="token keyword">let</span> abc <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token comment">// 声明一个方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world 你好哈哈哈&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 只能暴露一个，如果写多次，就会被覆盖 : 下面的两行只能留一行</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> abc<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> sayHello

<span class="token comment">// 通过对象的方式导出变量和方法，起别名</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">abc1</span><span class="token operator">:</span> abc<span class="token punctuation">,</span>
  <span class="token literal-property property">sayHello1</span><span class="token operator">:</span> sayHello<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 通过对象的方式导出变量和方法</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  abc<span class="token punctuation">,</span>
  sayHello<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>abc<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>sayHello
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="导入语法-require"><a href="#导入语法-require" class="header-anchor">#</a> 导入语法 require</h3> <p>特点：<b>单例模式</b>、<b>缓存机制</b>、<b>同步加载</b></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// counter.js</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
js<span class="token punctuation">;</span>
<span class="token comment">// app.js</span>
<span class="token keyword">const</span> counter1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./counter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> counter2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./counter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 虽然使用require引入了两次，但是使用的是同一份实例</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter1<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter2<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_4-es6-模块化"><a href="#_4-es6-模块化" class="header-anchor">#</a> 4. ES6 模块化</h2> <p>在 ECMAScript 6 中，引入了原生的模块化支持。可以使用 <strong>import</strong> 关键字导入模块，使用 <strong>export</strong> 关键字导出模块。ES6 模块化有静态分析的优势，可以在编译时确定模块的依赖关系，提供更好的性能和开发体验。</p> <p>ES6 模块化主要由 <strong>export</strong>和 <strong>import</strong> 两个命令构成：</p> <h3 id="导出-export"><a href="#导出-export" class="header-anchor">#</a> 导出 export</h3> <p>用于导出，即哪些变量、函数或类可以被外部访问。有多种形式：</p> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>需要注意：默认导出的时候，如果有对象或函数未被添加到导出清单里，需要使用 <strong>* as xx_name</strong> 语法引入该部分。再用 <strong>xx_name.unExportModule</strong> 去使用</p></div> <h4 id="_1-命名导出"><a href="#_1-命名导出" class="header-anchor">#</a> 1. 命名导出</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> m1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> mN <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-默认导出-每个模块只能有一个默认导出-。"><a href="#_2-默认导出-每个模块只能有一个默认导出-。" class="header-anchor">#</a> 2. 默认导出（每个模块只能有一个默认导出）。</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> expression<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> m1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> mN <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_3-导出一个外部文件-相当于把一个文件引入后-再导出其内容"><a href="#_3-导出一个外部文件-相当于把一个文件引入后-再导出其内容" class="header-anchor">#</a> 3. 导出一个外部文件，相当于把一个文件引入后，再导出其内容</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;xxx.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> m1<span class="token punctuation">,</span> m2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;xxx.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="导入-import"><a href="#导入-import" class="header-anchor">#</a> 导入 import</h3> <p>用于引入其他模块，返回的对象为 Promise，导入方式主要有：</p> <h4 id="_1-按需导入"><a href="#_1-按需导入" class="header-anchor">#</a> 1. 按需导入</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> m1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> m3 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;xxx.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-全部导入"><a href="#_2-全部导入" class="header-anchor">#</a> 2. 全部导入</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> module <span class="token keyword">from</span> <span class="token string">&quot;xxx.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> module1 <span class="token keyword">from</span> <span class="token string">&quot;xxx.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_3-动态导入"><a href="#_3-动态导入" class="header-anchor">#</a> 3. 动态导入</h4> <p>动态导入的优点就是按需异步加载。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./moduleA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用 module do some thing</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>除了以上提到的方式，现代的前端开发中还常用的模块化工具有 <strong>webpack</strong> 和 <strong>rollup</strong>。它们可以将多个模块打包成一个文件，以<strong>减少网络请求</strong>，同时支持各种模块化规范，提供了更多的功能和灵活性。也可以通过拆分模块来实现打包成多个文件，以避免<strong>文件体积过大</strong>，实现<strong>按需加载</strong>。</p> <p>选择适合的模块化方式主要取决于项目的需求和环境。在现代的 JavaScript 开发中，使用 <strong>ES6 模块化是最推荐的方式</strong>，但也可以根据具体情况选择其他方式。</p> <h2 id="_5-es6和commonjs的区别"><a href="#_5-es6和commonjs的区别" class="header-anchor">#</a> 5. ES6和CommonJS的区别</h2> <h3 id="_1-语法不一样"><a href="#_1-语法不一样" class="header-anchor">#</a> 1. 语法不一样</h3> <ul><li>CommonJS：导出模块<code>module.exports</code> 或 <code>exports</code>，引入模块： <code>require</code></li> <li>ES6模块：导出模块<code>export</code>，引入模块<code>import</code></li></ul> <h3 id="_2-运行环境不一样"><a href="#_2-运行环境不一样" class="header-anchor">#</a> 2. 运行环境不一样</h3> <ul><li>CommonJS：<strong>依赖Node.js环境</strong> 或者支持CommonJS的运行环境</li> <li>ES6模块：可以直接运行在浏览器环境中，可以通过 <strong>Babel</strong> 等工具转化为浏览器可以执行的</li></ul> <h3 id="_3-功能特性"><a href="#_3-功能特性" class="header-anchor">#</a> 3. 功能特性</h3> <ul><li>CommonJS：同步加载，动态导入不方便，可以引入第三方库去实现。</li> <li>ES6模块：异步加载，静态分析，支持运行时动态导入</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">1/20/2025, 5:07:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/MyInterviewDocs/JavaScript/11.html" class="prev">
        11、对象的继承
      </a></span> <span class="next"><a href="/MyInterviewDocs/JavaScript/13.html">
        13、IEFI 立即执行函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:50px;bottom:50px;width:180px;height:400px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="180" height="400" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:180px;height:400px;"></canvas></div></div></div>
    <script src="/MyInterviewDocs/assets/js/app.b586fb6d.js" defer></script><script src="/MyInterviewDocs/assets/js/2.971b6136.js" defer></script><script src="/MyInterviewDocs/assets/js/1.91fe0a74.js" defer></script><script src="/MyInterviewDocs/assets/js/35.a7831241.js" defer></script><script src="/MyInterviewDocs/assets/js/4.81764381.js" defer></script>
  </body>
</html>
