(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{523:function(s,t,n){"use strict";n.r(t);var a=n(3),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"gzip压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gzip压缩"}},[s._v("#")]),s._v(" Gzip压缩")]),s._v(" "),t("p",[t("strong",[s._v("压缩是一种将数据进行压缩以减少文件大小的技术")]),s._v(" ，从而加快数据传输速度和减少网络带宽消耗。在Web开发中，使用压缩可以大幅减小传输文件的大小，提高页面加载速度。")]),s._v(" "),t("p",[s._v("启用Gzip压缩和解压缩需要在HTTP请求中设置正确的请求头。对于浏览器请求资源，服务器可以通过设置响应头来启用Gzip压缩。")]),s._v(" "),t("p",[t("strong",[s._v("下面是如何做到这一点的示例")]),s._v("：")]),s._v(" "),t("p",[t("strong",[s._v("服务器端")]),s._v("，例如使用Node.js和Express框架，可以使用"),t("code",[s._v("compression")]),s._v("中间件来自动启用Gzip压缩。安装"),t("code",[s._v("compression")]),s._v("中间件后，使用以下代码将它应用到Express应用程序：")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" compression "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compression'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("compression")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("这将自动在每个响应中添加适当的"),t("code",[s._v("Content-Encoding")]),s._v("头来指示浏览器使用Gzip解压缩响应。")]),s._v(" "),t("p",[s._v("对于其他服务器端语言或框架，可以在HTTP响应头中手动添加"),t("code",[s._v("Content-Encoding: gzip")]),s._v("来启用Gzip压缩。例如，在PHP中，可以使用以下代码在响应中添加头部：")]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("header")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'Content-Encoding: gzip'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出被Gzip压缩的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("在前端，浏览器会自动处理Gzip解压缩。当浏览器收到响应时，如果检测到"),t("code",[s._v("Content-Encoding: gzip")]),s._v("头，它会自动解压缩内容。")]),s._v(" "),t("p",[s._v("在发送HTTP请求时，浏览器会自动在"),t("code",[s._v("Accept-Encoding")]),s._v("头中包含支持的压缩算法。服务器可以根据这个头来决定是否对返回的内容进行压缩。通常情况下，现代浏览器都支持Gzip压缩，并在请求时自动包含"),t("code",[s._v("Accept-Encoding: gzip")]),s._v("头；因此服务器可以根据这些头来决定是否启用压缩。")]),s._v(" "),t("p",[s._v("如果服务器启用了Gzip压缩，那么在HTTP响应中的"),t("code",[s._v("Content-Encoding")]),s._v("字段会被设置为"),t("code",[s._v("gzip")]),s._v("，表明内容已经被压缩。浏览器会自动解压缩这些内容，并将其用于页面展示。")])])}),[],!1,null,null,null);t.default=e.exports}}]);