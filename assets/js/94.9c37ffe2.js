(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{551:function(t,e,s){"use strict";s.r(e);var a=s(3),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue2-和-vue3-的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue2-和-vue3-的区别"}},[t._v("#")]),t._v(" Vue2 和 Vue3 的区别")]),t._v(" "),e("h2",{attrs:{id:"vue2-响应式原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue2-响应式原理"}},[t._v("#")]),t._v(" vue2 响应式原理")]),t._v(" "),e("p",[t._v("当你把一个普通的 JavaScript 对象传入 Vue 实例作为 "),e("code",[t._v("data")]),t._v(" 选项，Vue 将遍历此对象所有的 property，并使用 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Object.defineProperty")]),e("OutboundLink")],1),t._v(" 把这些 property 全部转为 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects#%E5%AE%9A%E4%B9%89_getters_%E4%B8%8E_setters",target:"_blank",rel:"noopener noreferrer"}},[t._v("getter/setter"),e("OutboundLink")],1),t._v("。"),e("code",[t._v("Object.defineProperty")]),t._v(" 是 ES5 中一个无法 shim 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chrilren"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" bValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    bValue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enumerable")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("缺点")]),t._v(" "),e("ol",[e("li",[t._v("对象：删除和添加属性无法识别")]),t._v(" "),e("li",[t._v("数组：直接修改数组长度；按照下标操作数组里的对象，vue 识别不到")])]),t._v(" "),e("p",[t._v("可以使用 "),e("strong",[t._v("$set")]),t._v(" 和 "),e("strong",[t._v("$delete")]),t._v(" 去处理，或者 ES6 数组里的一些新方法比如 Array.splice")])]),t._v(" "),e("h2",{attrs:{id:"vue3-响应式原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue3-响应式原理"}},[t._v("#")]),t._v(" vue3 响应式原理")]),t._v(" "),e("h2",{attrs:{id:"二者的不同"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二者的不同"}},[t._v("#")]),t._v(" 二者的不同")]),t._v(" "),e("p",[t._v("Vue.js 3 相对于 Vue.js 2 有一些重大改进，包括：")]),t._v(" "),e("h4",{attrs:{id:"_1-新的响应式系统带来性能提升"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-新的响应式系统带来性能提升"}},[t._v("#")]),t._v(" 1. 新的响应式系统带来性能提升：")]),t._v(" "),e("p",[t._v("Vue.js 3 在编译和渲染方面进行了优化，提高了整体性能。其中包括使用了新的响应式系统，使得依赖追踪更精确和高效；使用了更快的虚拟 DOM 算法，减少了不必要的 DOM 操作。")]),t._v(" "),e("h4",{attrs:{id:"_2-更小的包体积"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-更小的包体积"}},[t._v("#")]),t._v(" 2. 更小的包体积：")]),t._v(" "),e("p",[t._v("Vue.js 3 对打包体积进行了优化，减小了基础库的大小。这是通过将一些不常用的 API 变为可选的，以及使用 Tree-shaking 优化来实现的。")]),t._v(" "),e("h4",{attrs:{id:"_3-新增组合式-api-composition-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-新增组合式-api-composition-api"}},[t._v("#")]),t._v(" 3. 新增组合式 API（Composition API）：")]),t._v(" "),e("p",[t._v("Vue.js 3 引入了 Composition API，这是一个与 Options API 并存的新的 API 风格。Composition API 允许我们按逻辑相关而不是按照选项分割代码，使得组织和复用代码更加灵活和方便。")]),t._v(" "),e("h4",{attrs:{id:"_4-更好的-typescript、tsx-支持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-更好的-typescript、tsx-支持"}},[t._v("#")]),t._v(" 4. 更好的 TypeScript、tsx 支持：")]),t._v(" "),e("p",[t._v("vue2 在原生上对 TypeScript 支持并不有好。Vue.js 3 对 TypeScript 的支持更加完善，包括默认支持 TypeScript 编写的单文件组件，更好的类型推导和类型推断以及更完整的类型定义。")]),t._v(" "),e("h4",{attrs:{id:"_5-teleport-组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-teleport-组件"}},[t._v("#")]),t._v(" 5. Teleport 组件：")]),t._v(" "),e("p",[t._v("Vue.js 3 中新增了 Teleport 组件，它允许我们将组件的内容渲染到 DOM 树中指定的位置，提供了更灵活的组件渲染方式。")]),t._v(" "),e("h4",{attrs:{id:"_6-suspense-组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-suspense-组件"}},[t._v("#")]),t._v(" 6. Suspense 组件：")]),t._v(" "),e("p",[t._v("Suspense 组件是一种特殊的组件，用于处理 适用于异步组件、异步数据请求和其他延迟加载的场景。")]),t._v(" "),e("h4",{attrs:{id:"_7-静态提升"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-静态提升"}},[t._v("#")]),t._v(" 7. 静态提升")]),t._v(" "),e("p",[t._v("其本质就是：将代码中"),e("strong",[t._v("不变的变量")]),t._v("在编译阶段"),e("strong",[t._v("提升为类常量")]),t._v("。其主要作用是"),e("strong",[t._v("优化 Vue 组件的渲染性能")]),t._v("，"),e("strong",[t._v("减少不必要的计算和重新渲染")]),t._v("。")]),t._v(" "),e("p",[t._v("Vue2 在组件在每一次渲染时，每一个指令（"),e("code",[t._v("v-if")]),t._v("、"),e("code",[t._v("v-for")]),t._v("、"),e("code",[t._v("v-show")]),t._v("）和模板表达式( "),e("code",[t._v("{ {'name'} }")]),t._v(" )都会被重新动态解析和计算，而有些变量和指令是不变的，那么这部分计算性能就被浪费了。")]),t._v(" "),e("p",[t._v("Vue3 通过静态提升，能够在编译阶段"),e("strong",[t._v("识别")]),t._v("出这些"),e("strong",[t._v("静态的模板和指令")]),t._v("，并在组件初始化时一次性计算和渲染这些静态内容，之后即使这些静态部分所依赖的数据发生变化，也不会触发额外的计算和渲染过程，从而提高了整体性能。")]),t._v(" "),e("h4",{attrs:{id:"_8-全新的生命周期钩子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-全新的生命周期钩子"}},[t._v("#")]),t._v(" 8. 全新的生命周期钩子")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("vue2")]),t._v(" "),e("th",[t._v("vu3")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("beforeCreate")]),t._v(" "),e("td",[t._v("onMounted")])]),t._v(" "),e("tr",[e("td",[t._v("created")]),t._v(" "),e("td",[t._v("onUpdated")])]),t._v(" "),e("tr",[e("td",[t._v("beforeMount")]),t._v(" "),e("td",[t._v("onUnmounted")])]),t._v(" "),e("tr",[e("td",[t._v("mounted")]),t._v(" "),e("td",[t._v("onBeforeMount")])]),t._v(" "),e("tr",[e("td",[t._v("beforeUpdate")]),t._v(" "),e("td",[t._v("onBeforeUpdate")])]),t._v(" "),e("tr",[e("td",[t._v("updated")]),t._v(" "),e("td",[t._v("onBeforeUnmount")])]),t._v(" "),e("tr",[e("td",[t._v("activated")]),t._v(" "),e("td",[t._v("onErrorCaptured")])]),t._v(" "),e("tr",[e("td",[t._v("deactivated")]),t._v(" "),e("td",[t._v("onRenderTracked")])]),t._v(" "),e("tr",[e("td",[t._v("beforeDestroy")]),t._v(" "),e("td",[t._v("onRenderTriggered")])]),t._v(" "),e("tr",[e("td",[t._v("destroyed")]),t._v(" "),e("td",[t._v("onActivated")])]),t._v(" "),e("tr",[e("td",[t._v("errorCaptured")]),t._v(" "),e("td",[t._v("onDeactivated")])]),t._v(" "),e("tr",[e("td"),t._v(" "),e("td",[t._v("onServerPrefetch")])])])]),t._v(" "),e("h4",{attrs:{id:"_7-其他改进"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-其他改进"}},[t._v("#")]),t._v(" 7. 其他改进：")]),t._v(" "),e("p",[t._v("Vue.js 3 还对许多细节进行了改进，包括改进了响应式系统、生命周期钩子、指令等，提供了更好的开发体验和更丰富的功能。")]),t._v(" "),e("p",[t._v("总的来说，Vue.js 3 在性能、包体积、API 设计和 TypeScript 支持等方面都有较大的改进和优化，提供了更好的开发体验和更高的性能。但需要注意的是，由于某些 API 的变化和兼容性的考虑，升级到 Vue.js 3 可能需要进行一些修改和迁移工作。")])])}),[],!1,null,null,null);e.default=r.exports}}]);