# 软链接和硬链接

简介： 硬链接（hard link）对一个文件进行修改，可能会影响到其他文件的内容，但是删除一个文件名，并不会影响其他文件名的访问。

## 1、硬链接与软链接的定义

**硬链接（hard link）：** 对一个文件进行修改，可能会影响到其他硬链接的文件的内容，但是删除一个文件名，并不会影响其他文件名的访问。

**软链接：** 可以说成是符号连接，它有点类似于 Windows 的快捷方式，实际上它是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。

## 2、硬链接

### 2.1、创建原始文件

我们创建一个文件`hard`, 并将`"hello kangkang，this file for hard-link"`写入文件

```shell
# 创建一个文件，并写入字符串
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ touch hard

# 列出文件列表
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ ll
total 0
-rw-r--r-- 1 53563 197609 0 Jan 20 20:21 hard

# 对文件写入内容
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ echo '"hello kangkang，this file for hard-link"' > hard

# 打印文件内容
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard
"hello kangkang，this file for hard-link"

```

### 2.2、创建硬链接文件

我们创建一个文件`hard-1`。

```bash
# 建立硬链接文件
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ ln hard hard-1

# 打印hard-1文件，查看内容
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard-1
"hello kangkang，this file for hard-link"

# 查看当前文件列表
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ ls -li
total 2
1125899906921561 -rw-r--r-- 2 53563 197609 43 Jan 20 20:31 hard
1125899906921561 -rw-r--r-- 2 53563 197609 43 Jan 20 20:31 hard-1

```

我们可以看到，两个文件除了名字不一样，其他都是一样的。

### 2.3、修改文件内容

我们将`"test hard-link"`写入`hard-1`，打印两个文件，查看一下内容

```powershell
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ echo '"test hard-link"' >>hard-1

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard-1
"hello kangkang，this file for hard-link"
"test hard-link"

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard
"hello kangkang，this file for hard-link"
"test hard-link"

```

### 2.3、我们尝试再新增一个硬链接文件

我们尝试新增一个 `hard-2` 文件，并将 `"test hard-link 2"` 写入，打印并对比三个文件的内容。

```powershell
53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ ln hard hard-2

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard-2
"hello kangkang，this file for hard-link"
"test hard-link"

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ echo '"test hard-link 2"' >>hard-2

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ ll
total 3
-rw-r--r-- 4 53563 197609 79 Jan 20 20:43 hard
-rw-r--r-- 4 53563 197609 79 Jan 20 20:43 hard-1
-rw-r--r-- 4 53563 197609 79 Jan 20 20:43 hard-2

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard-2
"hello kangkang，this file for hard-link"
"test hard-link"
"test hard-link 2"

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard
"hello kangkang，this file for hard-link"
"test hard-link"
"test hard-link 2"

53563@DESKTOP-JGITSAE MINGW64 /e/testSome
$ cat hard-1
"hello kangkang，this file for hard-link"
"test hard-link"
"test hard-link 2"

```
