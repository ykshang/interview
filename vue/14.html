<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue的组件通信 | 常见面试题</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/x-icon" href="/MyInterviewDocs/logo.png">
    <meta name="description" content="记录学习成长">
    
    <link rel="preload" href="/MyInterviewDocs/assets/css/0.styles.c007d09d.css" as="style"><link rel="preload" href="/MyInterviewDocs/assets/js/app.b586fb6d.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/2.971b6136.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/1.91fe0a74.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/95.808830fa.js" as="script"><link rel="preload" href="/MyInterviewDocs/assets/js/4.81764381.js" as="script"><link rel="prefetch" href="/MyInterviewDocs/assets/js/10.b9ccdd73.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/100.159ad1a0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/101.591a4e0d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/102.82289573.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/103.00bee53c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/104.a638fdcf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/105.7e62af0e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/106.dc71fe90.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/107.b9ee65ee.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/108.968bdf78.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/109.22a63cbb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/11.2875cf05.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/110.46969aa6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/111.4e617fc2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/112.72ecdbb9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/113.b7c6cd13.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/114.c7a69ae1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/115.d815f2c6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/116.23bb0bb0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/117.218e66fb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/118.55e75b93.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/12.3cbf0b23.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/13.13669d9c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/14.23e3bb1c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/15.83188c2c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/16.47c553b8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/17.95419d56.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/18.96e3a434.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/19.8b92dd00.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/20.20a66a0c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/21.0fdf3d6a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/22.31ff6ba9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/23.f59434a7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/24.0995facc.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/25.6cc74990.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/26.2b876f87.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/27.5acbb55c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/28.495d906c.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/29.7861db40.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/3.459104f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/30.1d7d3652.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/31.03ab5ec6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/32.c58db70b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/33.81f45062.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/34.95a21a11.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/35.a7831241.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/36.45c99a1e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/37.93b2d83e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/38.d7505d59.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/39.753998f0.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/40.ed5c1988.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/41.d20736bd.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/42.9901972e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/43.113e0ee4.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/44.d18f7045.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/45.34b36cc1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/46.0577a66e.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/47.e4487e1a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/48.17995b47.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/49.0ea841be.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/5.d4e90b3d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/50.bd8df305.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/51.500dca19.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/52.b98b2fcd.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/53.f9ab736d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/54.286d2c90.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/55.e1f6a42b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/56.d6294076.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/57.3ad96ab5.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/58.01a239ec.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/59.58ef36a7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/6.8c845dff.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/60.d3eea318.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/61.0fdaae85.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/62.4f931d4a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/63.e7bb962d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/64.829ba2ee.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/65.175a8870.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/66.a9a52e3f.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/67.f530fb6a.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/68.049e1264.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/69.621917c1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/7.a7dbc989.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/70.484692c6.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/71.b61f5708.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/72.4d6479f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/73.dd4580bf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/74.281dc8b5.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/75.82345074.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/76.6f7dc73b.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/77.b359de99.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/78.8c5c30bb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/79.41a387f8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/80.af4ff111.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/81.01441f46.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/82.b813aa02.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/83.cf526e77.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/84.261aec10.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/85.795c0859.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/86.c553a1f9.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/87.08f3d12d.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/88.f2ad7287.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/89.42afefd8.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/90.868768d2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/91.12de0f09.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/92.4491d2ac.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/93.ed8d40cb.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/94.9c37ffe2.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/96.ae667781.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/97.987f1ac7.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/98.7164fddf.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/99.2d94d1f1.js"><link rel="prefetch" href="/MyInterviewDocs/assets/js/vendors~docsearch.8130a697.js">
    <link rel="stylesheet" href="/MyInterviewDocs/assets/css/0.styles.c007d09d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MyInterviewDocs/" class="home-link router-link-active"><img src="/MyInterviewDocs/assets/img/logo.gif" alt="常见面试题" class="logo"> <span class="site-name can-hide">常见面试题</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MyInterviewDocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/browser/index.html" class="nav-link">
  1. 网页基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/JavaScript/index.html" class="nav-link">
  2. JS基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/vue/index.html" class="nav-link">
  3. Vue相关
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/network/index.html" class="nav-link">
  4. 网络相关
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MyInterviewDocs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title">目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="目录" class="mobile-dropdown-title"><span class="title">目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/browser/index.html" class="nav-link">
  1. 网页基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/JavaScript/index.html" class="nav-link">
  2. JS基础
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/vue/index.html" class="nav-link">
  3. Vue相关
</a></li><li class="dropdown-item"><!----> <a href="/MyInterviewDocs/network/index.html" class="nav-link">
  4. 网络相关
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/MyInterviewDocs/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/browser/" class="sidebar-heading clickable"><span>网页基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/JavaScript/" class="sidebar-heading clickable"><span>JS基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/vue/" class="sidebar-heading clickable router-link-active open"><span>Vue相关</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/MyInterviewDocs/vue/1.html" class="sidebar-link">1、Vue的基本介绍</a></li><li><a href="/MyInterviewDocs/vue/2.html" class="sidebar-link">2、指令、自定义指令 directive</a></li><li><a href="/MyInterviewDocs/vue/3.html" class="sidebar-link">3、计算属性 computed</a></li><li><a href="/MyInterviewDocs/vue/4.html" class="sidebar-link">4、监听属性 watch</a></li><li><a href="/MyInterviewDocs/vue/5.html" class="sidebar-link">5、计算属性和监听属性的区别</a></li><li><a href="/MyInterviewDocs/vue/6.html" class="sidebar-link">6、过滤器 filter</a></li><li><a href="/MyInterviewDocs/vue/7.html" class="sidebar-link">7、混入 mixin</a></li><li><a href="/MyInterviewDocs/vue/8.html" class="sidebar-link">8、插槽</a></li><li><a href="/MyInterviewDocs/vue/9.html" class="sidebar-link">9、nextTick()</a></li><li><a href="/MyInterviewDocs/vue/10.html" class="sidebar-link">10、Transition 过渡效果</a></li><li><a href="/MyInterviewDocs/vue/11.html" class="sidebar-link">11、TransitionGroup 组动画</a></li><li><a href="/MyInterviewDocs/vue/12.html" class="sidebar-link">12、Vuex专题</a></li><li><a href="/MyInterviewDocs/vue/13.html" class="sidebar-link">13、Vue2和Vue3的区别 *</a></li><li><a href="/MyInterviewDocs/vue/14.html" aria-current="page" class="active sidebar-link">14、Vue的组件通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_1-prop属性" class="sidebar-link">1. prop属性</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_2-emit事件" class="sidebar-link">2. $emit事件</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_3-v-model-值绑定" class="sidebar-link">3. v-model 值绑定</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_4-refs" class="sidebar-link">4. $refs</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_5-children" class="sidebar-link">5. $children</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_6-parent" class="sidebar-link">6. $parent</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_7-provide-和-inject隔代注入" class="sidebar-link">7. provide 和 inject隔代注入</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_8-attrs" class="sidebar-link">8. $attrs</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_9-listeners" class="sidebar-link">9. $listeners</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_10-eventbus-事件总线" class="sidebar-link">10. EventBus 事件总线</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#_11-vuex" class="sidebar-link">11. Vuex</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#vue3响应式原理" class="sidebar-link">vue3响应式原理</a></li><li class="sidebar-sub-header"><a href="/MyInterviewDocs/vue/14.html#二者的不同" class="sidebar-link">二者的不同</a></li></ul></li><li><a href="/MyInterviewDocs/vue/15.html" class="sidebar-link">15、如何利用路由守卫实现鉴权</a></li><li><a href="/MyInterviewDocs/vue/16.html" class="sidebar-link">16、Vue3 中的Composition API是什么？它与Options API有什么区别？</a></li><li><a href="/MyInterviewDocs/vue/17.html" class="sidebar-link">17、Vue3 如何实现性能的提升？</a></li><li><a href="/MyInterviewDocs/vue/18.html" class="sidebar-link">18、Vue3 中的 v-model 指令有什么变化？</a></li><li><a href="/MyInterviewDocs/vue/19.html" class="sidebar-link">19、Vue3 Teleport 组件</a></li><li><a href="/MyInterviewDocs/vue/20.html" class="sidebar-link">20、Vue3 Suspense 组件</a></li><li><a href="/MyInterviewDocs/vue/21.html" class="sidebar-link">21、Vue3 Fragments 组件</a></li><li><a href="/MyInterviewDocs/vue/22.html" class="sidebar-link">22、Vue3 中的静态提升是什么？它如何优化组件的渲染性能？</a></li><li><a href="/MyInterviewDocs/vue/23.html" class="sidebar-link">23、Vue3 中的渐进式图片加载如何实现</a></li><li><a href="/MyInterviewDocs/vue/24.html" class="sidebar-link">24、Vue3 中的异步组件如何加载？</a></li><li><a href="/MyInterviewDocs/vue/25.html" class="sidebar-link">25、为什么 Vue 的 data 要使用函数 return</a></li><li><a href="/MyInterviewDocs/vue/26.html" class="sidebar-link">26、Vue 中的 SSR 是什么？有什么优势和适用场景？</a></li><li><a href="/MyInterviewDocs/vue/27.html" class="sidebar-link">27、Vue3 实现滚动列表</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/Algorithm/" class="sidebar-heading clickable"><span>算法</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/network/" class="sidebar-heading clickable"><span>网络相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MyInterviewDocs/nodejs/" class="sidebar-heading clickable"><span>Node.js</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue的组件通信"><a href="#vue的组件通信" class="header-anchor">#</a> Vue的组件通信</h1> <h2 id="_1-prop属性"><a href="#_1-prop属性" class="header-anchor">#</a> 1. prop属性 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父传子</span></h2> <p>通过 prop 属性，可以实现父组件向子组件传递信息</p> <h4 id="父组件"><a href="#父组件" class="header-anchor">#</a> 父组件</h4> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 传递值 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span> <span class="token attr-name">:obj</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>obj<span class="token punctuation">&quot;</span></span> <span class="token attr-name">info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>测试<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Test <span class="token keyword">from</span> <span class="token string">&quot;../components/Test.vue&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 引入子组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;about&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Test <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 注册子组件</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;父组件传值title&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="子组件"><a href="#子组件" class="header-anchor">#</a> 子组件</h4> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{obj.code}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{obj.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{info}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'test'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">obj</span><span class="token operator">:</span>Object<span class="token punctuation">,</span>
            <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">,</span>Number<span class="token punctuation">]</span>  <span class="token comment">//info值为其中一种类型即可，其他类型报警告</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="_2-emit事件"><a href="#_2-emit事件" class="header-anchor">#</a> 2. $emit事件 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>子传父</span></h2> <p>通过 $emit，可以实现子组件向父组件传递信息</p> <h4 id="父组件-2"><a href="#父组件-2" class="header-anchor">#</a> 父组件</h4> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span> <span class="token attr-name">@return</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadData<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token comment">&lt;!-- 传递值 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Test <span class="token keyword">from</span> <span class="token string">&quot;../components/Test.vue&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 引入子组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;about&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Test <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 注册子组件</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '子组件传递过来的值'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="子组件-2"><a href="#子组件-2" class="header-anchor">#</a> 子组件</h4> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Test&quot;</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'return'</span><span class="token punctuation">,</span><span class="token string">'子组件传递过来的值'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-v-model-值绑定"><a href="#_3-v-model-值绑定" class="header-anchor">#</a> 3. v-model 值绑定 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>双向获取</span></h2> <p><code>v-model</code>为双向传值，主要是通过两方面：prop和$emit来实现</p> <h4 id="父组件-3"><a href="#父组件-3" class="header-anchor">#</a> 父组件</h4> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- xxData和子组件里的customValue的属性值可以不一样 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>测试<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="子组件-3"><a href="#子组件-3" class="header-anchor">#</a> 子组件</h4> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Test&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'customValue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'customValue'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">'update'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span> newCustomValue<span class="token punctuation">)</span> <span class="token comment">// 当值发生变化时，抛出事件触发更新</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_4-refs"><a href="#_4-refs" class="header-anchor">#</a> 4. $refs <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父获取子</span></h2> <p>通过该属性可以获取已经标记<code>ref='xxx'</code>的子组件，通过<code>this.$refs.xxx</code>来访问对应的属性和方法。</p> <h2 id="_5-children"><a href="#_5-children" class="header-anchor">#</a> 5. $children <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父获取子</span></h2> <p>可以通过该属性获取子组件的集合（列表），根据下标 index 来获取想操作的子组件。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>xxxx<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_6-parent"><a href="#_6-parent" class="header-anchor">#</a> 6. $parent <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>子获取父</span></h2> <p>通过该属性可以访问父组件的属性和方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span><span class="token function">getQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>xxxxx<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_7-provide-和-inject隔代注入"><a href="#_7-provide-和-inject隔代注入" class="header-anchor">#</a> 7. <code>provide</code> 和 <code>inject</code>隔代注入 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父传子</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Vue3</span></h2> <p>实现父组件向子孙孙组件传值。(层级不限，跨越层级)，父组件通过<code>provide</code>提供信息，后代组件通过<code>inject</code>注入该信息。</p> <h4 id="父组件-4"><a href="#父组件-4" class="header-anchor">#</a> 父组件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;father&quot;</span><span class="token punctuation">,</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 使用函数return主要是为了确保数据响应性	和组件解耦</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">titleFather</span><span class="token operator">:</span> <span class="token string">&quot;父组件的值&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="子-孙组件"><a href="#子-孙组件" class="header-anchor">#</a> 子/孙组件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;sonone&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;titleFather&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>titleFather<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 父组件的值</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_8-attrs"><a href="#_8-attrs" class="header-anchor">#</a> 8. $attrs <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父传子</span></h2> <p>包含了父作用域中不作为 prop 被识别 (且获取) 的 attribute 绑定 (class 和 style 除外)。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定 (class 和 style 除外)，并且可以通过 v-bind=&quot;$attrs&quot; 传入内部组件——在创建高级别的组件时非常有用。</p> <h2 id="_9-listeners"><a href="#_9-listeners" class="header-anchor">#</a> 9. $listeners <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>父传子</span></h2> <p>包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过 v-on=&quot;$listeners&quot; 传入内部组件——在创建更高层次的组件时非常有用。</p> <h2 id="_10-eventbus-事件总线"><a href="#_10-eventbus-事件总线" class="header-anchor">#</a> 10. EventBus 事件总线 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>随便传</span></h2> <p>需要考虑组件加载的生命周期，缺点就是代码变复杂，维护困难</p> <p><code>$emit</code>抛出事件，发送数据。  通常放在<code>mounted</code>或用<code>户交互的回调函数</code>中</p> <p><code>$on</code>检测到对应事件，接收数据。通常放在<code>mounted</code>钩子中</p> <p><code>$off</code>页面销毁前，需要及时清理监听，否则会造成内存泄漏。通常放在<code>beforeDestroy</code>钩子中解绑事件</p> <h3 id="发送数据"><a href="#发送数据" class="header-anchor">#</a> 发送数据</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ComponentB.vue  </span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token function">sendData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span> <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">'3.x'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="接受数据数据"><a href="#接受数据数据" class="header-anchor">#</a> 接受数据数据</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ComponentA.vue  </span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 处理接收到的数据  </span>
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 组件销毁前解绑事件  </span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_11-vuex"><a href="#_11-vuex" class="header-anchor">#</a> 11. Vuex <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>随便传</span></h2> <h3 id="state-仓库"><a href="#state-仓库" class="header-anchor">#</a> State 仓库</h3> <p>State就是store仓库，用来存放取数据。mapState是为了简化代码，一次性获取多个store里的数据</p> <div class="language-Vue line-numbers-mode"><pre class="language-vue"><code>// 获取单个数据
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">count</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
// 映射多个数据
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span><span class="token comment">// 箭头函数可使代码更简练</span>
    <span class="token literal-property property">countAlias</span><span class="token operator">:</span> <span class="token string">'count'</span><span class="token punctuation">,</span><span class="token comment">// 字符串参数'count' 等同于 `state =&gt; state.count`</span>
    <span class="token function">countPlusLocalState</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 为了能够使用 `this` 获取局部状态，必须使用常规函数</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>localCount
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// 如果不需要别名，可以用数组形式</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'count'</span><span class="token comment">// 映射 this.count 为 store.state.count</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="getter-获取数据-加工数据"><a href="#getter-获取数据-加工数据" class="header-anchor">#</a> Getter 获取数据，加工数据</h3> <p>Getter是相当于对state里的数据的一个加工处理，拿到的返回值就是处理后的值，但不允许在getter里取改变store里的值。</p> <h3 id="mutation-突变-数据刷新"><a href="#mutation-突变-数据刷新" class="header-anchor">#</a> Mutation 突变 数据刷新</h3> <p>Mutation是同步执行的，不能出现异步任务，比如promise。触发Mutation后，store里的值会立即刷新。Moutation的变化是可以被devtool追踪到的。<br>
你可以在组件中使用 <code>this.$store.commit('xxx')</code> 提交 mutation，或者使用 mapMutations 辅助函数将组件中的 methods 和 mutation关联（需要在根节点注入 store）。</p> <h3 id="action-动作-方法"><a href="#action-动作-方法" class="header-anchor">#</a> Action 动作 方法</h3> <p>Action支持异步任务，相当于为了弥补Mutation不能执行异步任务的遗憾，使其搭配异步任务完成某一个Action。同时Action也是相当于把某些高频出现的包含业务逻辑的methods提取出来，作为一个公共的Aciton使用。</p> <p>可以在组件中使用<code>this.$store.dispatch('xxx')</code>分发 action，或者使用 mapActions 辅助函数将组件的
methods 关联到Action调用（需要先在根节点注入 store）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'products/getAllProducts'</span><span class="token punctuation">,</span> xxxxx<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="modules-模块"><a href="#modules-模块" class="header-anchor">#</a> Modules 模块</h3> <p>项目比较大，逻辑比较复杂的时候，sotre、action、mutation等相关代码会变得非常庞大。进行模块拆分，有利于提高代码的维护性和可靠性</p> <div class="custom-block warning"><p class="custom-block-title">与表单的有机结合</p> <p>如果我们直接把vuex里的值绑定到的表单的<strong>v-model</strong>上。因为<strong>v-model</strong>是双向刷新的，而vuex不允许直接修改值来刷新。所以我们需要使用另外一个变量，设置为<strong>计算属性（computed）</strong>。通过该属性的<strong>get</strong>方法来取出vuex里存储的对应值，通过<strong>set</strong>来提交<strong>Mutation</strong>刷新Vuex里的值。如果需要设置该值的初始值，可以初始化的时候赋初始值。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
// -------
computed: </span><span class="token punctuation">{</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>message
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'updateMessage'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div> <h2 id="vue3响应式原理"><a href="#vue3响应式原理" class="header-anchor">#</a> vue3响应式原理</h2> <h2 id="二者的不同"><a href="#二者的不同" class="header-anchor">#</a> 二者的不同</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">1/20/2025, 5:07:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/MyInterviewDocs/vue/13.html" class="prev">
        13、Vue2和Vue3的区别 *
      </a></span> <span class="next"><a href="/MyInterviewDocs/vue/15.html">
        15、如何利用路由守卫实现鉴权
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:50px;bottom:50px;width:180px;height:400px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="180" height="400" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:180px;height:400px;"></canvas></div></div></div>
    <script src="/MyInterviewDocs/assets/js/app.b586fb6d.js" defer></script><script src="/MyInterviewDocs/assets/js/2.971b6136.js" defer></script><script src="/MyInterviewDocs/assets/js/1.91fe0a74.js" defer></script><script src="/MyInterviewDocs/assets/js/95.808830fa.js" defer></script><script src="/MyInterviewDocs/assets/js/4.81764381.js" defer></script>
  </body>
</html>
